{"version":3,"sources":["option.js"],"names":[],"mappings":"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","file":"option.js","sourcesContent":["'use strict';\nimport Path from 'path';\nimport _ from 'lodash';\nimport 'source-map-support/register';\n/**  \n * The class that sets the options.  \n * @class Option  \n */\nclass Option {\n  constructor(options) {\n      this.options = this.getDefaults();\n      if (options) this.setOptions(options);\n    }\n    /**      \n     * Sets the options      \n     */\n  setOptions(options) {\n    if (options.name) {\n      this.options.name =\n        // Because of a known bug: https://github.com/tj/commander.js/issues/283\n        // we'll have to check if it's a function\n        _.isFunction(options.name) ?\n        options.name() : options.name;\n    }\n    if (options.extension) {\n      this.options.extension = options.extension;\n    }\n\n    if (options.kit) {\n      if (_.isString(options.kit)) {\n        if (options.kit.toLowerCase() === 'yes')\n          this.options.kit = true;\n        else if (options.kit.toLowerCase() === 'no')\n          this.options.kit = false;\n      } else this.options.kit = true;\n    }\n\n    if (options.template) {\n      this.options.template.path = options.template;\n    }\n\n    // Option - template helpers\n    this.options.template.isEnabled = () => {\n      return !!options.template;\n    };\n\n    this.options.template.isKit = () => {\n      return this.options.kit;\n    };\n\n    if (!options.source) {\n      console.error(new Error('Mr. Doc [error]: You must define a source.'));\n      process.exit(1);\n    } else\n      this.options.source = options.source;\n\n    if (options.output) {\n      this.options.output = Path.resolve(process.cwd(), options.output) ||\n        process.cwd();\n    }\n\n    if (options.ignore) {\n      this.options.blacklist = options.ignore\n        .trim().replace(' ', '').split(',');\n    }\n    if (options.readme) {\n      this.options.readme = options.readme;\n    }\n    if (options.theme) {\n      if (_.isString(options.theme) && !_.isEmpty(options.theme)) {\n        this.options.theme.name = options.theme.indexOf('doxx-theme-') > -1 ?\n          options.theme : 'mr-doc-theme-' + options.theme;\n      }\n    }\n  }\n\n  /**      \n   * Returns the current options.      \n   * @return {object} The current options      \n   */\n  getOptions() {\n      return this.options;\n    }\n    /**      \n     * Returns the default options.      \n     * @return {object} The default options      \n     */\n  getDefaults() {\n    return {\n      // The title for the page produced       \n      'name': undefined,\n      // The folder which should get parsed       \n      'source': 'lib/',\n      // The folder which will contain the results.       \n      'output': 'docs/',\n      // The output files extension.       \n      'extension': 'html',\n      // The comma seperated list of directories to ignore. (alias for ignore)       \n      'blacklist': ['test', 'public', 'static', 'view', 'views', 'template', 'templates'],\n      // The markdown file to use on the main page of the documentations.        \n      // Checks the current directory for a package.json or README.md by default      \n      'readme': '',\n      'package': (() => {\n        let pkg;\n        try {\n          pkg = require(Path.join(process.cwd(), '/package.json'));\n        } catch (error) {}\n        return pkg;\n      })(),\n      'template': {\n        'path': undefined,\n      },\n      'theme': {\n        'name': 'mr-doc-theme-default'\n      },\n      'kit': false\n    };\n  }\n}\nexport default (options) => {\n  return new Option(options);\n};"],"sourceRoot":"/source/"}